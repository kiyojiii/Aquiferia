<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE-edge">
  <meta name="viewport" content="width=device-width, intial-scale=1.0">
  <title> Soil Moisture Records </title>
  <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
  <script src="https://kit.fontawesome.com/334c45a40c.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="js/jquery-3.3.1.slim.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery-3.3.1.min.js"></script>

  <!-- Data Tables -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.25/datatables.min.css"/>
  <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.25/datatables.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-firestore.js"></script>

  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Include DataTables -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
  <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
	<!----css3---->
  <link rel="stylesheet" href="css/custom.css">
	<!-- SLIDER REVOLUTION 4.x CSS SETTINGS -->
	
	<link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">	
	
	<!--google material icon-->
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">

    
</head>
<body>

  <div class="wrapper">


    <div class="body-overlay"></div>
    
            <!-- Sidebar  -->
            <nav id="sidebar">
                <div class="sidebar-header">
                    <h3><img src="../dist/himg/logo.png" height="100px" class="img-fluid"/><span>Aquiferia</span></h3>
                </div>
                <ul class="list-unstyled components">
          <li>
                        <a href="dashboard.html" class="dashboard"><i class="material-icons">dashboard</i><span>Dashboard</span></a>
                    </li>
        
              <div class="small-screen navbar-display">
                    <!-- <li class="dropdown d-lg-none d-md-block d-xl-none d-sm-block">
                        <a href="#homeSubmenu0" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">notifications</i><span> 4 notification</span></a>
                        <ul class="collapse list-unstyled menu" id="homeSubmenu0">
                                        <li>
                                        <a href="#">You have 5 new messages</a>
                                        </li>
                                        <li>
                                            <a href="#">You're now friend with Mike</a>
                                        </li>
                                        <li>
                                            <a href="#">Wish Mary on her birthday!</a>
                                        </li>
                                        <li>
                                            <a href="#">5 warnings in Server Console</a>
                                        </li>
                        </ul>
                    </li>
            
            <li  class="d-lg-none d-md-block d-xl-none d-sm-block">
                        <a href="#"><i class="material-icons">apps</i><span>apps</span></a>
                    </li> -->
            
             <li  class="d-lg-none d-md-block d-xl-none d-sm-block">
                        <a href="#"><i class="material-icons">person</i><span>user</span></a>
                    </li>
            
            <li  class="d-lg-none d-md-block d-xl-none d-sm-block">
                        <a href="#"><i class="material-icons">settings</i><span>setting</span></a>
                    </li>
            </div>
                    
                    <li class="dropdown active">
                        <a href="#pageSubmenu6" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">grid_on</i><span>tables</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu6">
                            <li class="active">
                                <a href="crudpage.html">Moisture Records</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li>			
          
                    <!-- <li class="dropdown">
                        <a href="#homeSubmenu1" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">aspect_ratio</i><span>Layouts</span></a>
                        <ul class="collapse list-unstyled menu" id="homeSubmenu1">
                            <li>
                                <a href="#">Home 1</a>
                            </li>
                            <li>
                                <a href="#">Home 2</a>
                            </li>
                            <li>
                                <a href="#">Home 3</a>
                            </li>
                        </ul>
                    </li> -->
                    
                    <!-- <li class="dropdown">
                        <a href="#pageSubmenu2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">apps</i><span>widgets</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu2">
                            <li>
                                <a href="#">Page 1</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li> -->
            
             <li class="dropdown">
                        <a href="#pageSubmenu3" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">equalizer</i>
            
              
              <span>chart</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu3">
                            <li>
                                <a href="chart.html">Chart Set 1</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li>
    
    
              <!-- <li class="dropdown">
                        <a href="#pageSubmenu4" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">extension</i><span>ui element</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu4">
                            <li>
                                <a href="#">Page 1</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li>
            
            <li class="dropdown">
                        <a href="#pageSubmenu5" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">border_color</i><span>forms</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu5">
                            <li>
                                <a href="#">Page 1</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li> -->
                   
             
               <!-- <li class="dropdown">
                        <a href="#pageSubmenu7" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
              <i class="material-icons">content_copy</i><span>Pages</span></a>
                        <ul class="collapse list-unstyled menu" id="pageSubmenu7">
                            <li>
                                <a href="#">Page 1</a>
                            </li>
                            <li>
                                <a href="#">Page 2</a>
                            </li>
                            <li>
                                <a href="#">Page 3</a>
                            </li>
                        </ul>
                    </li> -->
                   
                   <!-- <li class="">
                        <a href="#"><i class="material-icons">date_range</i><span>copy</span></a>
                    </li>
            
             <li  class="">
                        <a href="#"><i class="material-icons">library_books</i><span>Calender</span></a>
                    </li> -->

                    <li  class="">
                      <a href="#" id="logout"><i class="material-icons">logout</i><span>Logout</span></a>
                  </li>
                   
                   
                </ul>
    
               
            </nav>
        
        
    
            <!-- Page Content  -->
            <div id="content">
        
        <div class="top-navbar">
                <nav class="navbar navbar-expand-lg">
                    <div class="container-fluid">
    
                        <button type="button" id="sidebarCollapse" class="d-xl-block d-lg-block d-md-mone d-none">
                            <span class="material-icons">arrow_back_ios</span>
                        </button>
              
              <a class="navbar-brand" href="crudpage.html"> Soil Moisture Records </a>
              
                        <button class="d-inline-block d-lg-none ml-auto more-button" type="button" data-toggle="collapse"
              data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="material-icons">more_vert</span>
                        </button>
    
                        <div class="collapse navbar-collapse d-lg-block d-xl-block d-sm-none d-md-none d-none" id="navbarSupportedContent">
                            <ul class="nav navbar-nav ml-auto">   
                                <!-- <li class="dropdown nav-item active">
                                    <a href="#" class="nav-link" data-toggle="dropdown">
                                       <span class="material-icons">notifications</span>
                       <span class="notification">4</span>
                                   </a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="#">#</a>
                                        </li>
                                        <li>
                                            <a href="#">#</a>
                                        </li>
                                        <li>
                                            <a href="#">#</a>
                                        </li>
                                        <li>
                                            <a href="#">#</a>
                                        </li>
                                      
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">
                    <span class="material-icons">apps</span>
                    </a>
                                </li> -->
                                <li class="nav-item active">
                                    <a class="nav-link" href="#">
                    <span class="material-icons">person</span>
                    </a>
                                </li>
                  <li class="nav-item">
                                    <a class="nav-link" href="#">
                    <span class="material-icons">settings</span>
                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
          </div>
          
          
<div class="main-content">
      <div class="row mb-3">
        <div class="col-auto">
          <button id="add-btn" type="button" class="btn btn-success add-btn" data-bs-toggle="modal" data-bs-target="#add-modal">
            <i class="fa-solid fa-square-plus"></i> Add Data
          </button>
        </div>
      </div>
      <table id="myTable" class="display">
        <thead>
          <tr>
            <th>No. </th>
            <th>Plant Name</th>
            <th>Moisture </th>
            <th>Temperature </th>
            <th>Humidity </th>
            <th>Date Time</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
</div>

  
<!-- Add Modal -->
<div id="add-modal" class="modal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add Data</h5>
        <button type="button" id="close" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="form-row">
        <form>
          <div class="form-group col-md-12">
            <label for="PlantName" class="form-label" required>Plant Name:</label>
            <input type="text" class="form-control" id="PlantName" required style="width: 120%;">
          </div>          
          <div class="form-group col-md-7">
            <label for="Moisture" class="form-label" required>Moisture Level:</label>
            <div class="input-group">
              <input type="text" class="form-control" id="Moisture" required>
              <span class="input-group-text">%</span>
            </div>
            <label for="Temperature" class="form-label" required>Temp Level:</label>
            <div class="input-group">
              <input type="text" class="form-control" id="Temperature" required>
              <span class="input-group-text">°C</span>
            </div>
            <label for="Humidity" class="form-label" required>Humidity Level:</label>
            <div class="input-group">
              <input type="text" class="form-control" id="Humidity" required>
              <span class="input-group-text">%</span>
            </div>
          </div>        
          <div class="form-group col-md-10">
            <label for="DateTime" class="form-label">Date and Time:</label>
            <input type="datetime-local" class="form-control" id="DateTime" required>
          </div>
        </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="add-button">Add</button>
      </div>
    </div>
  </div>
</div>
  <!-- Edit Modal -->
<div id="edit-modal" class="modal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="edit-close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="Fname-input" class="form-label">First Name:</label>
            <input type="text" class="form-control" id="Fname-input">
            </div>
            <div class="mb-3">
            <label for="Lname-input" class="form-label">Last Name:</label>
            <input type="text" class="form-control" id="Lname-input">
            </div>
          </form>
      </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="edit-close-button">Close</button>
            <button type="button" class="btn btn-primary" id="update-button">Save changes</button>
        </div>
    </div> 
  </div>
</div>    
                      
              
              
                
<footer class="footer">
<div class="container-fluid">
              <div class="row">
              <div class="col-md-6">
                        <nav class="d-flex">
                            <ul class="m-0 p-0">
                                <li>
                                    <a href="#">
                                        Home
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Company
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Portfolio
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Blog
                                    </a>
                                </li>
                            </ul>
                        </nav>
                       
                    </div>
            <div class="col-md-6">
             <p class="copyright d-flex justify-content-end"> &copy 2023 Design by 
                            <a href="#"> &nbsp CJV &nbsp </a> Aquiferia
                        </p>
            </div>
              </div>
                </div>
                </footer>
              
              </div>
              
            
    
            </div>
        </div>


<!-- firebase js -->
  <script type="module">

    // Import the functions you need from the SDKs you need
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js';
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js';
    import { getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword, 
            signOut, 
            GoogleAuthProvider, 
            signInWithRedirect, 
            getRedirectResult,
            signInWithPopup,
            onAuthStateChanged,} 
            from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js';
    import { getFirestore,
            collection,
            addDoc,
            connectFirestoreEmulator,
            query, 
            getDocs,
            getDoc,
            updateDoc,
            setDoc,
            doc,
            onSnapshot,
            deleteDoc,
            orderBy } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-firestore.js';
      
    // Import the functions you need from the SDKs you need
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDOIDgSedybvSSPD2TejDmtdD0SZNoPS7U",
      authDomain: "aquiferia-f9786.firebaseapp.com",
      projectId: "aquiferia-f9786",
      storageBucket: "aquiferia-f9786.appspot.com",
      messagingSenderId: "236511073621",
      appId: "1:236511073621:web:2059e210c6ab5ac2e18bdc",
      measurementId: "G-52S8RPWSMV"
    };
      
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const provider = new GoogleAuthProvider();
    // const provider2 = new FacebookAuthProvider();
    // const auth = getAuth();
    console.log(app)
      
    //Firestore
    const db = getFirestore(app);

    //DataTables
    firebase.initializeApp(firebaseConfig);
    const db2 = firebase.firestore();

// <-- Add Data to DataTables -->

// Get the data from Firestore and add it to the DataTable
db2.collection("MoistureRecords")
  .orderBy("DateTime", "desc")
  .get()
  .then((querySnapshot) => {
    let counter = 1; // initialize counter variable
    const table = $('#myTable').DataTable(); // cache DataTable instance
    table.clear(); // clear existing data in the table
    querySnapshot.forEach((doc) => {
      const data = doc.data();
      const dateTime = data["DateTime"];
      const date = new Date(dateTime.toDate()).toLocaleDateString();
      const time = new Date(dateTime.toDate()).toLocaleTimeString();
      table.row.add([
        counter++, // increment counter variable and include as first column
        data["Plant Name"],
        data["Moisture Level"],
        data["Temperature Level"],
        data["Humidity Level"],
        `${date} ${time}`
      ]);
    });
    table.draw(); // refresh the table with new data
  })
  .catch((error) => {
    console.log(`Error getting documents: ${error}`);
  });


// <----- ADD MODAL -----> 

// Get the add modal element from the DOM
const addModal = document.getElementById("add-modal");

// Get the input fields and buttons from the add modal
const addPlantnameInput = addModal.querySelector("#PlantName");
const addMoistureInput = addModal.querySelector("#Moisture");
const addTemperatureInput = addModal.querySelector("#Temperature");
const addHumidityInput = addModal.querySelector("#Humidity");
const addDatetimeInput = addModal.querySelector("#DateTime");
const addButton = addModal.querySelector("#add-button");
const cancelButton = addModal.querySelector("#cancel-button");

// Add event listener to the add button
addButton.addEventListener("click", () => {
  const PlantName = addPlantnameInput.value.trim();
  const Moisture = addMoistureInput.value.trim();
  const Temperature = addTemperatureInput.value.trim();
  const Humidity = addHumidityInput.value.trim();
  const DateTime = new Date(addDatetimeInput.value.trim());
  
  // Check if any of the input fields are blank
  if (!PlantName || !Moisture || !Temperature || !Humidity || !DateTime) {
    Swal.fire({
      icon: "error",
      title: "Error",
      text: "Please Fill Out All The Fields"
    });
    return;
  }

  // Add the data to Firestore
  addDoc(collection(db, "MoistureRecords"), {
    "Plant Name": PlantName,
    "Moisture Level": Moisture + "%",
    "Temperature Level": Temperature + "°C",
    "Humidity Level": Humidity + "%",
    "DateTime": DateTime
  })
    .then((docRef) => {
    console.log("Document written with ID: ", docRef.id);
    })
    .catch((error) => {
    console.error("Error adding document: ", error);
  });

  // Reset the input fields
  addPlantnameInput.value = "";
  addMoistureInput.value = "";
  addTemperatureInput.value = "";
  addHumidityInput.value = "";
  addDatetimeInput.value = "";

  function hideAddModal() {
    const addModal = new bootstrap.Modal(document.querySelector("add-modal"));
    const modalBackdrop = document.querySelector('.modal-backdrop');

    // Hide the modal
    addModal.hide();

    // Remove the backdrop
    modalBackdrop.parentNode.removeChild(modalBackdrop);
  }

  // Show a success message
  Swal.fire({
    icon: "success",
    title: "Data Added Successfully",
    text: "You can either close this modal or add more data"
  });
});

// Add event listener to the add modal to reset the input fields
addModal.addEventListener("hidden.bs.modal", () => {
  addPlantnameInput.value = "";
  addMoistureInput.value = "";
  addTemperatureInput = "";
  addHumidityInput = "";
  addDatetimeInput.value = "";
});


// // <----- TABLE PART EDIT AND DELETE BUTTON ----->

// // Get the table element from the DOM
// const table = document.getElementById("myTable");

// // Get the tbody element from the DOM
// const tbody = document.createElement("tbody");
// table.appendChild(tbody);

// // <----- EDIT PART ----->

// // Success Update
// function displaySuccessAlert() {
//   Swal.fire('Success', 'Record updated successfully!', 'success');
// }

// // Create a query for the users collection
// const usersRef = collection(db, "FavourateCharacters");

// // Query the collection in descending order
// const queryDesc = query(usersRef, orderBy("FirstName", "asc"));

// // Listen for new data in real-time
// onSnapshot(queryDesc, (querySnapshot) => {
//   // Clear existing data from the table
//   tbody.innerHTML = "";

//   // Add new data to the table
//   let index = 0;
//   querySnapshot.forEach((queryDoc) => {
//     index++;
//     const row = document.createElement("tr");
//     row.innerHTML = `
//       <td>${index}</td>
//       <td>${queryDoc.data().FirstName}</td>
//       <td>${queryDoc.data().LastName}</td>
//       <td>${queryDoc.data().FavChar}</td>
//       <td>
//         <button type="button" class="btn btn-warning btn-sm edit" data-id="${queryDoc.id}-edit" data-firstname="${queryDoc.data().FirstName}" data-lastname="${queryDoc.data().LastName}" data-favchar="${queryDoc.data().FavChar}">Edit</button>
//         <button type="button" class="btn btn-danger btn-sm delete" data-id="${queryDoc.id}-delete">Delete</button>
//       </td>
//     `;
//     tbody.appendChild(row);
//   });

//   // Add a click event listener to the delete button to delete the document from Firestore
//   const deleteButtons = document.querySelectorAll('.delete');
//   deleteButtons.forEach((button) => {
//     button.addEventListener('click', () => {
//       const documentId = button.getAttribute('data-id').split('-')[0];
//       deleteDocument(documentId);
//     });
//   });

//   // Add a click event listener to the edit button to open the edit modal and fill it with the current data
//   const editButtons = document.querySelectorAll('.edit');
//   editButtons.forEach((button) => {
//     button.addEventListener('click', () => {
//       const documentId = button.getAttribute('data-id').split('-')[0];
//       const firstName = button.getAttribute('data-firstname');
//       const lastName = button.getAttribute('data-lastname');
//       const favChar = button.getAttribute('data-favchar');

//       // Fill the input fields with the current data
//       document.getElementById('Fname-input').value = firstName;
//       document.getElementById('Lname-input').value = lastName;
//       document.getElementById('Favchar-input').value = favChar;

//       // Set the current document id
//       document.getElementById('update-button').setAttribute('data-id', documentId);

//       // Open the edit modal
//       const modal = document.getElementById('edit-modal');
//       modal.classList.add('show');
//       modal.style.display = 'block';

//       const editCloseButton = document.getElementById('edit-close');
//       const editCloseButton2 = document.getElementById('edit-close-button');
//       const backdrop = document.createElement('div');
//       backdrop.classList.add('modal-backdrop', 'fade', 'show');
//       document.body.appendChild(backdrop);

//       editCloseButton.addEventListener('click', () => {
//         modal.style.display = 'none';
//         backdrop.remove();
//       });

//       editCloseButton2.addEventListener('click', () => {
//         modal.style.display = 'none';
//         backdrop.remove();
//       });
//     });
//   });

//   // Add a click event listener to the update button to update the document in Firestore with the new data
//   document.getElementById('update-button').addEventListener('click', async () => {
//     try {
//       const firstName = document.getElementById('Fname-input').value;
//       const lastName = document.getElementById('Lname-input').value;
//       const favChar = document.getElementById('Favchar-input').value;
//       const documentId = document.getElementById('update-button').getAttribute('data-id');

//   // Catch Error  
//   // Check if any of the input fields are blank
//   if (!firstName || !lastName || !favChar) {
//     Swal.fire({
//       icon: "error",
//       title: "Error",
//       text: "Please Fill Out All The Fields"
//     });
//     return;
//   }

//       console.log('Update button clicked');
//       await updateDoc(doc(db, "FavourateCharacters", documentId), {
//       FirstName: firstName,
//       LastName: lastName,
//       FavChar: favChar
//       });

//       // Hide The Modal After Update
//       const modal = document.getElementById('edit-modal');
//       modal.style.display = 'none';
//       const backdrop = document.querySelector('.modal-backdrop');
//       backdrop.remove();

//       // Display success alert
//       displaySuccessAlert();

//       } catch (error) {
//       console.error(error);
//       }
//       });
      
// });


// // <----- DELETE FUNCTION ----->

// // Function to delete a document from Firestore
// const deleteDocument = async (documentId) => {
//   const result = await Swal.fire({
//     title: "Are you sure you want to delete this document?",
//     text: "This action cannot be undone.",
//     icon: "warning",
//     showCancelButton: true,
//     confirmButtonColor: "#dc3545",
//     confirmButtonText: "Yes, delete it",
//     cancelButtonText: "Cancel",
//   });

//   if (result.isConfirmed) {
//     try {
//       await deleteDoc(doc(db, "FavourateCharacters", documentId));
//       Swal.fire({
//         title: "Deleted!",
//         text: "The document has been deleted.",
//         icon: "success",
//       });
//     } catch (error) {
//       console.error("Error deleting document: ", error);
//       Swal.fire({
//         title: "Error",
//         text: "There was an error deleting the document.",
//         icon: "error",
//       });
//     }
//   }
// };

//----- Logout code start	  
document.getElementById("logout").addEventListener("click", function() {
		signOut(auth).then(() => {
		// Sign-out successful.
		console.log('Sign-out successful.');
		(Swal.fire({
		icon: 'success',
		title: 'Logged Out Successfully',
		}));
		setTimeout(function () {
		window.location.href = "index.html"; //will redirect to your blog page (an ex: blog.html)
		}, 2000);
		}).catch((error) => {
		// An error happened.
		console.log('An error happened.');
		(Swal.fire({
		icon: 'error',
		title: 'An Error Has Occured',
		text: ''+error,
		}));;
		});
	});
 
</script>

<!-- Data Table Show Entries -->
<script>
  $('#myTable').dataTable( {
  "lengthMenu": [ [6, 15, 50, -1], [6, 15, 50, "All"] ]
} );
</script>


<!-- Optional JavaScript -->
<script type="text/javascript">
          $(document).ready(function () {
                    $('#sidebarCollapse').on('click', function () {
                        $('#sidebar').toggleClass('active');
                $('#content').toggleClass('active');
                    });
              
               $('.more-button,.body-overlay').on('click', function () {
                        $('#sidebar,.body-overlay').toggleClass('show-nav');
                    });
              
    });
            
</script>

</body>

</html>